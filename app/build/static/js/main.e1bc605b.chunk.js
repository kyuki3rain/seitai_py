(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{18:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),s=n(10),r=n.n(s),l=(n(18),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))}),o=(n(6),n(2)),u=n.n(o),j=n(4),d=n(3),h=window.eel,b=["application","calibration","create_data"],O=["serial","test"],p=function(e){var t=e.setMode,n=Object(c.useState)(),i=Object(d.a)(n,2),s=i[0],r=i[1],l=Object(c.useState)(),o=Object(d.a)(l,2),p=o[0],x=o[1],f=Object(c.useState)("test"),v=Object(d.a)(f,2),g=v[0],m=v[1],w=Object(c.useState)("calibration"),y=Object(d.a)(w,2),_=y[0],S=y[1],C=Object(c.useState)(1),k=Object(d.a)(C,2),F=k[0],L=k[1],E=Object(c.useState)(0),N=Object(d.a)(E,2),A=N[0],D=N[1],I=Object(c.useState)(""),M=Object(d.a)(I,2),B=M[0],J=M[1],P=Object(c.useState)(null),T=Object(d.a)(P,2),z=T[0],q=T[1],G=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_ports()();case 2:t=e.sent,r(t),x(t[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_threshold()();case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_import_file_name()();case 2:t=e.sent,J(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){G(),H(),K(),q(null)}),[]),s?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{class:"column",style:{height:450},children:[Object(a.jsx)("h1",{style:{margin:0},children:"Options"}),!1===z?Object(a.jsx)("div",{style:{color:"red"},children:"\u6b63\u3057\u304f\u52d5\u4f5c\u3057\u306a\u3044\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3082\u3046\u4e00\u5ea6\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("div",{class:"row",style:{width:600},children:[Object(a.jsx)("div",{children:"port select"}),Object(a.jsx)("select",{value:p,class:"input",onChange:function(e){x(e.target.value)},children:s.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))})]}),Object(a.jsxs)("div",{class:"row",style:{width:600},children:[Object(a.jsx)("div",{class:"title",children:"datamode select"}),Object(a.jsx)("select",{value:g,class:"input",onChange:function(e){m(e.target.value)},children:O.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))})]}),Object(a.jsxs)("div",{class:"row",style:{width:600},children:[Object(a.jsx)("div",{class:"title",children:"mode select"}),Object(a.jsx)("select",{value:_,class:"input",onChange:function(e){S(e.target.value)},children:b.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))})]}),Object(a.jsxs)("div",{class:"row",style:{width:600},children:[Object(a.jsx)("div",{class:"title",children:"data length"}),Object(a.jsx)("input",{type:"textarea",class:"input",value:F,onChange:function(e){L(Number(e.target.value))}})]}),Object(a.jsxs)("div",{class:"row",style:{width:600},children:[Object(a.jsx)("div",{class:"title",children:"threshold"}),Object(a.jsx)("input",{type:"textarea",class:"input",value:A,onChange:function(e){D(Number(e.target.value))}})]}),Object(a.jsxs)("div",{class:"row",style:{width:600},children:[Object(a.jsx)("div",{class:"title",children:"file_name"}),Object(a.jsx)("input",{type:"textarea",class:"input_long",value:B,onChange:function(e){D(e.target.value)}})]}),Object(a.jsx)("button",{onClick:function(){var e=(console.log("validate start!"),console.log(p,g,_,B,A),!(!p&&"serial"===g)&&("create_data"!==_||"test"!==g)&&!!F&&!("create_data"===_&&!B)&&!("test"===g&&!B)&&!(!A&&"application"===_));console.log(e),q(e),e?(h.set_args({port:p,data_mode:g,mode:_,data_length:F,threshold:A,import_file_name:B}),t(_)):console.log("validate error!")},style:{height:45,width:300},children:"start"})]})}):Object(a.jsx)("div",{children:"loading..."})},x=n(5);var f=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],i=t[1],s=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_result()();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.a)((function(){s()}),1e3),n?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{style:{height:400,width:1e3,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:n.map((function(e){var t=e>=.5?"red":"white";return Object(a.jsx)("div",{style:{width:190,height:190,backgroundColor:t}})}))})}):Object(a.jsx)("div",{children:"loading..."})},v=n(12),g=n(11),m=n.n(g),w=function(e){return Object(a.jsx)(m.a,{type:"line",options:{chart:{height:500,width:750,zoom:{enabled:!1},animations:{enabled:!0,easing:"linear",dynamicAnimation:{enabled:!0}}},xaxis:{type:"datetime",range:2},yaxis:{show:!1,min:0,max:200,labels:{formatter:function(e){return e.toFixed(0)}}}},series:e.dataList})},y=function(e,t,n){return e.length>50&&e.shift(),[].concat(Object(v.a)(e),[{x:t,y:n}])};var _=function(){var e=["a","b","c","d","e"].map((function(e){return{name:e,data:[]}})),t=Object(c.useState)(e),n=Object(d.a)(t,2),i=n[0],s=n[1],r=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_data()();case 2:t=e.sent,console.log(t),s(i.map((function(e,n){return{name:e.name,data:y(e.data,t[0],t[n+1])}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.a)((function(){r()}),100),i?Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(a.jsx)("div",{style:{width:200,height:150},children:Object(a.jsx)(w,{dataList:[i[0]]})}),Object(a.jsx)("div",{style:{width:200,height:150},children:Object(a.jsx)(w,{dataList:[i[1]]})}),Object(a.jsx)("div",{style:{width:200,height:150},children:Object(a.jsx)(w,{dataList:[i[2]]})}),Object(a.jsx)("div",{style:{width:200,height:150},children:Object(a.jsx)(w,{dataList:[i[3]]})}),Object(a.jsx)("div",{style:{width:200,height:150},children:Object(a.jsx)(w,{dataList:[i[4]]})})]}):Object(a.jsx)("div",{children:"loading..."})};var S=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],i=t[1],s=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_mode()();case 2:t=e.sent,console.log("get_mode ok!"),console.log(t),i(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(c.useEffect)((function(){"init"!==n&&h.start_app()}),[n]),Object(x.a)((function(){"calibration"===n&&s()}),1e3),"init"===n?Object(a.jsx)(p,{setMode:i}):"application"===n?Object(a.jsxs)("div",{children:[Object(a.jsx)(f,{}),Object(a.jsx)(_,{})]}):"calibration"===n?Object(a.jsx)("div",{children:"calibration now..."}):Object(a.jsx)("div",{children:"loading..."})};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(S,{})})})}),document.getElementById("root")),l()},6:function(e,t,n){}},[[24,1,2]]]);
//# sourceMappingURL=main.e1bc605b.chunk.js.map